<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="https://cdn.tailwindcss.com"></script>
    <title>無情抽獎機器人</title>
    <style type="text/tailwindcss">
        .btn {
            @apply rounded-md px-6 py-4 text-center font-medium text-slate-700 shadow-sm ring-1 ring-slate-700/10 hover:bg-slate-50
        }
    
        .link {
            @apply font-medium text-gray-700 underline decoration-pink-500
        }
    
        label {
            @apply block uppercase text-slate-700 mb-2
        }
    
        input {
            @apply shadow-sm appearance-none border w-full py-2 px-3 text-slate-700 leading-tight focus:outline-none
        }
    
        .error {
            @apply text-red-500 text-sm
        }

        .component {
            @apply border rounded-full w-4 p-4 text-slate-700
        }

        .special {
            @apply border rounded-full w-4 p-4 border-red-700 bg-amber-500
        }

        section {
            @apply mb-4
        }

        </style>
</head>
<body class="container mx-auto mt-10 mb-10 max-w-lg">
    <h1 class="mb-4 text-2xl text-center">一抽入魂 • 無情開抽</h1>
    <section class="flex gap-4 justify-center">
        <div>
            <label for="">請輸入長</label>
            <input type="number" name="height" id="height" min="1" max="50">
        </div>
        <div>
            <label for="">請輸入寬</label>
            <input type="number" name="width" id="width" min="1" max="50">
        </div>
        <div>
            <label for="">抽幾次</label>
            <input type="number" name="num" id="num" min="1" max="50">
        </div>
    </section>
    <div class="flex justify-center">
        <button type="submit" class="btn">開抽</button>
    </div>
    <div class="app grid gap-4 m-4 justify-center items-center justify-items-center"></div>
    <script>
        let btn = document.querySelector('.btn');
        btn.addEventListener('click', lottery);
        function lottery () {
            let container = document.querySelector(".app");
            let height = document.querySelector('#height').value;
            let width = document.querySelector('#width').value;

            container.innerHTML = '';
            console.log(height * width)
            let sum = height * width;
            let fragment = document.createDocumentFragment();
            let special = Math.floor(Math.random() * sum);
            console.log(special)
            
            for (let i = 1; i <= sum; i++) {
                let div = document.createElement("div");
                div.setAttribute('class', 'component');
                if (i == special) div.classList.add('special');
                fragment.appendChild(div);
            }
            container.appendChild(fragment);

            container.classList.add(`grid-cols-${width}`);
        }
    </script>
</body>
</html>